title: linux å­¦ä¹ ç¬”è®°

date: 2014-05-09 21:19:42

categories: 
	- Linux

tags: 
	-linux

---



> TODO - å¾…æ•´ç†


# ä¸€äº›æ¦‚å¿µ

- bytes stream å­—èŠ‚æµ

	linux æ‰§è¡Œä¸€ä¸ªç¨‹åºæ—¶ä¼šè‡ªåŠ¨æ‰“å¼€ä¸‰ä¸ªæµï¼šæ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµã€æ ‡å‡†é”™è¯¯æµ
	
	è¾“å‡ºæµç”¨ ">" æˆ– ">>" è¡¨ç¤º
	
	è¾“å…¥æµç”¨ "<" è¡¨ç¤º
	
	é”™è¯¯æµç”¨ ">&" è¡¨ç¤º
	
		// è¾“å‡ºæ–‡æœ¬æµåˆ°å±å¹•
		$ echo 'æˆ‘æ˜¯å°èµ–'
		// echo è¾“å‡ºä¿¡æ¯åˆ° a.txt
		$ echo 'æˆ‘æ˜¯å°èµ–' > a.txt
		// è¿½åŠ æ–‡æœ¬æµåˆ° a.txt
		$ echo 'æˆ‘æ‰æ˜¯å°èµ–' >> a.txt

		// è¾“å‡ºå‘½ä»¤æ‰§è¡Œç»“æœæ–‡æœ¬æµåˆ°å±å¹•
		$ ls
		// é‡æ–°å®šå‘, è¿™æ · ls å‘½ä»¤çš„è¾“å‡ºæ–‡æœ¬æµå°±ä¼šå†™åˆ°è¿™ä¸ªæ–‡ä»¶ä¸Š
		$ ls > a.txt
		// è‹¥ a.txt å·²å­˜åœ¨ï¼Œåˆ™å°†ls å‘½ä»¤çš„è¾“å‡ºæ–‡æœ¬æµè¿½åŠ åˆ°è¿™ä¸ªæ–‡ä»¶ä¸Š
		$ ls >> a.txt 
		
		// è¾“å…¥æ–‡æœ¬æµ
		$ cat < a.txt
		// å¤åˆ¶ a.txt åˆ° b.txt
		$ cat < a.txt > b.txt
		
		// è¾“å‡ºé”™è¯¯ï¼Œå‡å®š wrongDir æ˜¯ä¸å­˜åœ¨çš„ç›®å½•
		$ cd void >& a.txt
		
- pipe ç®¡é“

	ä½¿ç”¨ç®¡é“ï¼Œå¯ä»¥å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºæµå½“åšå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥æµ
	
	ç®¡é“ç”¨ "|" è¡¨ç¤º
	
		// è¾“å‡º "cat > a.txt" å½“åšå‘½ä»¤ "wc" çš„è¾“å…¥
		// wc å³ word countï¼šè¾“å‡ºæ–‡æœ¬çš„è¡Œã€è¯å’Œå­—ç¬¦æ€»æ•°
		$ cat < a.txt | wc

<!-- more -->			
	
# å¸®åŠ©ç±»å‘½ä»¤

- type æŸ¥çœ‹æŸä¸ªå‘½ä»¤çš„ç±»å‹

ç±»å‹å¯ä¸ºï¼š1.å¯æ‰§è¡Œæ–‡ä»¶ 2.å†…å»ºå‡½æ•° 3.åˆ«å

		$ type ls
		$ type cd
		$ type open

- which æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„

		$ which ls
		
- where æ›´å¤§èŒƒå›´æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„		

		$ whereis ls

- whatis æŸ¥çœ‹å‘½ä»¤çš„ä»‹ç»

		$ whatis ls	

- man æŸ¥è¯¢å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£
		
		// å­¦ä¹  linux å¿…å¤‡ï¼
		$ man ls	

- info æŸ¥è¯¢å‘½ä»¤çš„æ›´è¯¦ç»†å¸®åŠ©æ–‡æ¡£

		$ info ls

- history æŸ¥çœ‹è¾“å…¥çš„å‘½ä»¤å†å²

		$ history 
		
- alias åˆ«å

		// æŸ¥çœ‹æ‰€æœ‰åˆ«å
		$ alias
		// è®¾ç½®åˆ«åï¼Œllss ä¸º ls çš„åˆ«å
		$ alias lllsss = ls	

- env ç¯å¢ƒå˜é‡

		// æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡
		$ env
		// è®¾ç½®ç¯å¢ƒå˜é‡
		// $ export [key]=[value]	
		$ export testKey=testVal
		
- finger æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯
		
		// æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
		$ finger
		// æŸ¥çœ‹ç‰¹å®šç”¨æˆ·ä¿¡æ¯
		$ finger xiaolai
		
- who am I æ˜¾ç¤ºå½“å‰ç”¨æˆ·

		$ who am I
		
- su æˆä¸ºè¶…çº§ç”¨æˆ·

		$ su
		// æˆ–è€…ç”¨è¶…çº§ç”¨æˆ·æ‰§è¡Œå‘½ä»¤ï¼š
		// $ sudo [commmand]	

- passwd ä¿®æ”¹å¯†ç 
		
		$ passwd	
	
		
	
					
	
# æ–‡ä»¶ç®¡ç†ç±»å‘½ä»¤
	
- touch æ–°å»ºæ–‡ä»¶

		// å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™åªä¿®æ”¹æ—¶é—´ä¿¡æ¯
		$ touch a.txt	

	
- ls åˆ—å‡ºç›®å½•/æ–‡ä»¶ä¿¡æ¯ 
		
		// æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶
		$ ls
		// æ˜¾ç¤ºæ¡Œé¢ç›®å½•ä¸‹çš„æ–‡ä»¶
		$ ls ~/Desktop
		// æ˜¾ç¤ºç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„ä¿¡æ¯
		$ ls -l
		// æ˜¾ç¤ºç›®å½•ä¸‹ç‰¹å®šæ–‡ä»¶çš„ä¿¡æ¯
		$ ls -l a.txt
		// æ˜¾ç¤ºç›®å½•ä¸‹å¤šä¸ªæ–‡ä»¶çš„ä¿¡æ¯
		$ ls -l a.txt b.txt c.txt d.txt
		// åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶
		$ ls -l -a
		// æˆ–
		$ ls -la
		// åˆ—å‡ºå½“å‰ç›®å½•ä¸‹ç‰¹å®šæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶
		$ ls -l -a a.txt
		// æˆ–
		$ ls -la a.txt

- cp å¤åˆ¶
 
		// å°† a.txt å¤åˆ¶åˆ° b.txt
		$ cp a.txt b.txt
		// å°† a.txt å¤åˆ¶åˆ°çˆ¶ç›®å½•ä¸‹çš„ a.txt
		$ cp a.txt ..

- mv ç§»åŠ¨				

		// ç§»åŠ¨ a.txt åˆ° b.txt ï¼Œæ­¤æ—¶ç›¸å½“äºé‡å‘½åäº†
		$ mv a.txt b.txt
		// ç§»åŠ¨ a.txt åˆ°æ¡Œé¢ç›®å½•ä¸‹
		$ mv a.txt /Desktop

- rm åˆ é™¤æ–‡ä»¶

		// åˆ é™¤ a.txt æ–‡ä»¶
		$ rm a.txt
		
- rm -r åˆ é™¤ç›®å½•-ç›®å½•ä¸ä¸€å®šéç©º

		// åˆ é™¤ /home/xiaolai æ•´ä¸ªç›®å½•ï¼Œå‚æ•° -r æ˜¯ recursive é‡å¤åˆ é™¤ä¹‹æ„
		$ rm -r /home/xiaolai	
		
		// æ…ç”¨ rm -rf å³å¼ºåˆ¶åˆ é™¤ç›®å½•ä¸æä¾›ç¡®è®¤ï¼ï¼
		// $rm -rf /home/xiaolai
	
- pwd æ˜¾ç¤ºå½“å‰è·¯å¾„
		
		$ pwd
				
- cd åˆ‡æ¢è·¯å¾„
		
		// åˆ‡æ¢åˆ° /home/xiaolai
		$ cd /home/xiaolai
		// åˆ‡æ¢åˆ°ä¹‹å‰çš„è·¯å¾„
		$ cd -	
	
		
- mkdir åˆ›å»ºç›®å½•

		// åˆ›å»ºç›®å½• /home/xiaolai/newdir
		$ mkdir /home/xiaolai/newdir

- rmdir åˆ é™¤ç›®å½•

		// ç›®å½•ä¸ºç©ºæ—¶æ‰å¯åˆ é™¤
		$ rmdir /home/xiaolai/newdir	

- chmod ä¿®æ”¹æƒé™

		// ä¿®æ”¹ a.txt çš„æƒé™ä¸º 755
		$ chmod 755 a.txt

- chown ä¿®æ”¹æ‹¥æœ‰è€…

		// ä¿®æ”¹ a.txt çš„æ‹¥æœ‰è€…ä¸º root, sudo æŒ‡ä»¥è¶…çº§æƒé™è¿è¡Œ
		$ sudo chown root a.txt 	

- chgrp ä¿®æ”¹æ‹¥æœ‰ç»„

		// ä¿®æ”¹ a.txt çš„æ‹¥æœ‰ç»„ä¸º root ç»„
		$ sudo chgrp root a.txt	
		
- cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹
		
		// å‘½ä»¤è¡Œä¸­åˆ—å‡ºæ–‡ä»¶å†…å®¹
		$ cat a.txt	
		// é“¾æ¥æ˜¾ç¤º a.txt å’Œ b.txt
		$ cat a.txt b.txt

- head -1 æ˜¾ç¤ºæ–‡ä»¶ç¬¬ä¸€è¡Œ

		$ head -1 a.txt

- tail -2 æ˜¾ç¤ºæ–‡ä»¶å€’æ•°ç¬¬äºŒè¡Œ

		$ tail -2 a.txt
		
- diff æ–‡ä»¶å¯¹æ¯”
		
		// æ˜¾ç¤º a.txt å’Œ b.txt çš„å·®å¼‚
		$ diff a.txt b.txt
		
- du æ–‡ä»¶å ç”¨çš„ç£ç›˜ç©ºé—´
		
		// du	

- df æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µ

		// df							

- wc æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„å­—ç¬¦ã€è¯å’Œè¡Œæ•° 			

		$ wc a.txt	

		
- od -c ä½¿ç”¨ASCIIæŸ¥çœ‹æ–‡ä»¶å†…å®¹

		$ od -c a.txt	
	
	
- open æ‰“å¼€æ–‡ä»¶

		// æ‰“å¼€ä¸€ä¸ªåº”ç”¨
		$ open /Applications/Safari.app/
		
		// æ‰“å¼€ä¸€ä¸ªç›®å½•
		$ open /Applications/
		// æ‰“å¼€å½“å‰ç›®å½•
		$ open ./
		
		// ä½¿ç”¨é»˜è®¤è½¯ä»¶æ‰“å¼€æ–‡ä»¶
		$ open fa.css 
		// ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶
		$ open fa.css 
		// æŒ‡å®šä¸€ä¸ªè½¯ä»¶æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚è¿™é‡ŒæŒ‡å®šç”¨ sublime text æ‰“å¼€
		$ open test.txt -a /Applications/Sublime\ Text.app/	
- du æŸ¥çœ‹æ–‡ä»¶å¤¹å¤§å°

		$ du /home/xiaolai
		// -h äººç±»å¯è¯»å•ä½ï¼Œ-s åªæ˜¾ç¤ºæ‘˜è¦	
		$ du -sh /home/xiaolai

- find æŸ¥æ‰¾æ–‡ä»¶
		
		// æŸ¥æ‰¾test.txt
		$ find  test.txt

- locate æŸ¥æ‰¾åŒ¹é…åæ–‡ä»¶

		// å‘ä¸‹æŸ¥æ‰¾æ–‡ä»¶åä¸­å«æœ‰ test çš„æ–‡ä»¶
		$ locate test
		
		// ä¸ find ä¸åŒçš„æ˜¯ï¼Œlocate å¹¶ä¸æ˜¯å®æ—¶æŸ¥æ‰¾ï¼Œéœ€è¦æ›´æ–°æ•°æ®åº“æ‰èƒ½è·å–åˆ°æœ€æ–°ä¿¡æ¯
		$ updatedb
		$ locate test

- å…¶ä»–å‘½ä»¤
	
		// æ—¶é—´
		$ date	
		// ä¼‘çœ  300s
		$ sleep 300
		// ç³»ç»Ÿæ—¥å¿—
		$ dmesg
	
	ç¡¬ä»¶ä¿¡æ¯
		
		// ç³»ç»Ÿä¿¡æ¯
		$ uname
		// ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯
		$ uname -a
		// æ‰€æœ‰ç¡¬ç›˜çš„ä½¿ç”¨æƒ…å†µ
		$ df -lh
		// æ‰€æœ‰ç¡¬ç›˜ä½¿ç”¨æƒ…å†µ
		$ mount
		// æ‰€æœ‰åˆ†åŒº
		$ sudo fdisk -l
		// æ¶æ„ä¿¡æ¯
		$ arh
		// CPUä¿¡æ¯
		$ cat /proc/cpuinfo
		// å†…å­˜ä¿¡æ¯
		$ cat /proc/meminfo
		// å†…å­˜ä½¿ç”¨æƒ…å†µ
		$ free
		// å†…å­˜pageå¤§å°(KB)
		$ pagesize
		
	ç½‘ç»œä¿¡æ¯
		
		// ç½‘ç»œæ¥å£ä¿¡æ¯
		$ ifconfig
		// è·¯ç”±è¡¨
		$ route
		// ç½‘ç»œè¿æ¥çŠ¶æ€
		$ netstat
		// å‘é€ ping åŒ…
		$ ping [IP]
		// æ¢æµ‹è·¯ç”±è·¯å¾„
		$ traceroute [IP]
		// å‘DHCPå‘é€è¯·æ±‚ï¼Œè·å–IPåœ°å€å’Œå…¶ä»–è®¾ç½®ä¿¡æ¯
		$ dhclient
		// DNSæŸ¥è¯¢domainå¯¹åº”çš„IP
		$ host [domain]
		// DNSæŸ¥è¯¢IPå¯¹åº”çš„domain
		$ host [IP]
		// ä½¿ç”¨ wget ä¸‹è½½ url æŒ‡å®šçš„èµ„æº
		$ wget [url]
		

# è¿›ç¨‹

- top æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯
		
		$ top

- ps åˆ—å‡ºè¿›ç¨‹

- ps -e -o åˆ—å‡ºè¿›ç¨‹ç‰¹å®šä¿¡æ¯

		// -e åˆ—å‡ºå…¨éƒ¨è¿›ç¨‹
		$ ps -e
		// -o pid,comm,cmd åˆ—å‡º PID,COMMAND,CMD,PPID ä¿¡æ¯
		$ ps -e -o pid,comm,cmd,ppid

- fork åˆ›å»ºè¿›ç¨‹

	é€šè¿‡å¤åˆ¶çˆ¶è¿›ç¨‹æ¥å¾—åˆ°å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹æœ‰ä¸ª ppid å±æ€§ä¿å­˜äº†çˆ¶è¿›ç¨‹ id
	
		// æ˜¾ç¤ºçˆ¶å­è¿›ç¨‹
		$ ps -o pid, ppid, cmd
		// æ˜¾ç¤ºè¿›ç¨‹æ ‘
		$ pstree	
		
- ps -ajx æ˜¾ç¤ºè¾ƒå®Œæ•´çš„è¿›ç¨‹ä¿¡æ¯

		$ ps -ajx	
	
- ps -o pgid
	
	è¿›ç¨‹ç»„çš„ä½œç”¨åœ¨äºå¯ä»¥å°†ä¸€ä¸ªæ–°å·å‘é€ç»™è¿™ä¸ªç»„
	
		// pgid è¡¨ç¤ºè¿›ç¨‹ç»„çš„é¢†å¯¼è¿›ç¨‹çš„ id
		$ ps -p pid,,ppid,pgid,cmd

- ps -o sid

	å‡ ä¸ªè¿›ç¨‹ç»„å¯ä»¥ç»„æˆä¸€ä¸ªä¼šè¯ï¼Œä¼šè¯é¢†å¯¼è¿›ç¨‹çš„PIDä¸ºSID
	
	ä¼šè¯ä¸­çš„æ¯ä¸ªè¿›ç¨‹ç»„éƒ½æ˜¯ä¸€ä¸ªå·¥ä½œ(job)ï¼Œæ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)
	
	ä¼šè¯çš„ä½œç”¨åœ¨äºå¯ä»¥å°†å¤šä¸ªå·¥ä½œå›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ªä½œä¸ºå‰å°(foreground)ï¼Œå…¶ä»–å·¥ä½œåˆ™è¿›è¡Œåœ¨åå°(background)
	
		// ç”¨ & å°†pingå·¥ä½œåœ¨åå°è¿è¡Œ, å¹¶å°†è¾“å‡ºæµå†™åˆ°logæ–‡ä»¶ä¸­
		$ ping localhost > log &

# ä¿¡å·

	å¸¸è§ä¿¡å·ï¼šSIGINT, SIGQUIT, SIGCONT, SIGTSTP, SIGALRM
		
		// æŸ¥è¯¢ä¿¡å·
		$ man 7 signal
	
	æŒ‰ä¸‹é”®ç›˜ CTRL+C æ—¶ï¼Œå‘å‡º SIGINT ä¿¡å·ï¼Œé»˜è®¤æ“ä½œæ˜¯ä¸­æ–­(INTERRUPT)è¯¥è¿›ç¨‹	
	æŒ‰ä¸‹é”®ç›˜ CTRL+\ æ—¶ï¼Œå‘å‡º SIGQUIT ä¿¡å·ï¼Œé»˜è®¤æ“ä½œæ˜¯é€€å‡º(QUIT)è¯¥è¿›ç¨‹
	
	æŒ‰ä¸‹é”®ç›˜ CTRL+Z æ—¶ï¼Œå‘å‡º SIGTSTPï¼Œé»˜è®¤æ“ä½œæ˜¯æš‚åœ(STOP)è¯¥è¿›ç¨‹
	
	SIGCONT ç”¨äºé€šçŸ¥æš‚åœçš„è¿›ç¨‹ç»§ç»­
	
	SIGALRM ç”¨ä½œå®šæ—¶å™¨ï¼šä¸€å®šæ—¶é—´åæ‰ç”Ÿæˆè¯¥ä¿¡å·
	
		// è¿è¡Œä¸€ä¸ªè¿›ç¨‹
		$ ping localhost
		// æŒ‰ä¸‹é”®ç›˜ CTRL+Z å‘å‡º SIGTSTP ä¿¡å·ï¼Œæš‚åœè¯¥è¿›ç¨‹
		// CTRL+Z,æ˜¾ç¤ºï¼š
		// [1]+ Stopped		ping localhost
		// æŸ¥è¯¢è¿™ä¸ªpingè¿›ç¨‹çš„pid
		$ ps -e -o cmd,pid
		// æŸ¥è¯¢åˆ° 5132ï¼Œä½¿ç”¨ kill æ¥å‘é€SIGCONTä¿¡å·ï¼Œç»§ç»­è¯¥è¿›ç¨‹
		$ kill -SIGCONT 5132
		// æ¥ç€pingè¿›ç¨‹å°±ä¼šç»§ç»­äº†
		
# ç”¨æˆ·

	ç”¨æˆ·ç™»å½•åï¼Œæœ‰ç”¨æˆ·id(UID)å’Œç»„id(GID)
	
	ç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨ /etc/passwd
	ç»„ä¿¡æ¯ä¿å­˜åœ¨ /etc/group
	
		
# SSH ç™»å½• VPS

- ç™»å½•åˆ°è¿œç¨‹ä¸»æœº

		$ ssh root@123.123.123.123
	
- ä¿®æ”¹rootç”¨æˆ·å¯†ç 

		$ passwd
	
- æ·»åŠ ç”¨æˆ·ç»„

		$ addgroup admin
	
- æ·»åŠ ç”¨æˆ·

		$ useradd -d /home/xiaolai -s /bin/bash -m xiaolai
	
	å‚æ•° -d æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•ï¼Œ-s æŒ‡å®šç”¨æˆ·çš„shellï¼Œ-m æŒ‡å®šç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»º	
- è®¾ç½®æ–°ç”¨æˆ·çš„å¯†ç 

		$ passwd xiaolai
	
- æ·»åŠ ç”¨æˆ·åˆ°ç”¨æˆ·ç»„

		$ usermod -a -G admin xiaolai
	
- ä¸ºç”¨æˆ·è®¾å®šsudoæƒé™

		$ visudo
	
	visudoä¼šæ‰“å¼€/etc/sudoers åœ¨ï¼š
	root    ALL=(ALL:ALL) ALL åæ·»åŠ ï¼š
	xiaolai    ALL=(ALL:ALL) ALL	
	
	
# å‹ç¼©ä¸å½’æ¡£

- zip å‹ç¼©

		// å°† file1 å’Œ file2 å‹ç¼©åˆ° file.zip
		$ zip file.zip file1 file2

- unzip	è§£å‹ç¼©

		$ unzip file.zip	
	
- gzip å‹ç¼©

		// file1 å‹ç¼©åˆ° file.gz
		$ gzip -c file1 > file.gz

- gunzip è§£å‹ç¼©

		$ gunzip file.gz

- tar -cf åˆ›å»ºå½’æ¡£
		
		// å°† file1 å’Œ file2 å½’æ¡£åˆ° file.tar
		$ tar -cf file.tar file1 file2	

- tar -zcvf åˆ›å»ºå½’æ¡£å¹¶å‹ç¼©		

		$ tat -zcvf file.tar file1 file2
		
- tar -xf é‡Šæ”¾å½’æ¡£
		
		$ tar -xf file.tar

- tar -zxf è§£å‹å¹¶é‡Šæ”¾å½’æ¡£

		$ tar -zxf file.tar.gz	
		
			
		
		



	

	




	